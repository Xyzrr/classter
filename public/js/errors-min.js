!function($){$.fn.validify=function(t,e){return this.each(function(){var r=$(this),o;if("object"==typeof t){o=$.extend({},$.fn.validify.defaults,t),r.data(o);var i=!1;for(var n in o.rules)o.rules[n].method()||(r.displayError(o.rules[n].error),i=!0);return i?!1:(r.hideError(),!0)}return"string"==typeof t?(r.displayError(t),"undefined"!=typeof e&&e(r),!1):void 0})},$.fn.validify.defaults={position:"top",rules:[],success:function(){}},$.fn.displayError=function(t){return this.each(function(){var e=$(this);void 0===t&&(t="An error occured."),e.hideError();var r=e.prev(),o=e.offset();r=$("<div class='validify' role='alert'></div>");var i=$("<button type='button' class='close'><span aria-hidden='true'>&times;</span><span class='sr-only'>Close</span></button>");i.click(function(){e.hideError(function(){})}),r.html(t).prepend(i),r.insertAfter(e);var n;switch(e.data("position")){case"top":n="pointer-down";break;case"bottom":n="pointer-up";break;case"left":n="pointer-right";break;case"right":n="pointer-left"}var a=$("<span class='pointer "+n+"'></span>");r.append(a);var s=r.offset();switch(e.data("position")){case"top":a.offset({top:s.top+r.outerHeight(),left:s.left+r.outerWidth()/2-a.outerWidth()/2}),r.offset({top:o.top-r.outerHeight()-a.outerHeight(),left:o.left+e.outerWidth()/2-r.outerWidth()/2});break;case"bottom":a.offset({top:s.top-a.outerHeight(),left:s.left+r.outerWidth()/2-a.outerWidth()/2}),r.offset({top:o.top+e.outerHeight()+a.outerHeight(),left:o.left+e.outerWidth()/2-r.outerWidth()/2});break;case"left":a.offset({top:s.top,left:s.left+r.outerWidth()}),r.offset({top:o.top+e.outerHeight()/2,left:o.left-r.outerWidth()-a.outerWidth()});break;case"right":a.offset({top:s.top,left:s.left-a.outerWidth()}),r.offset({top:o.top+e.outerHeight()/2,left:o.left+e.outerWidth()+a.outerWidth()})}r.hide().fadeIn(200)})},$.fn.hideError=function(){return this.each(function(){var t=$(this).next();t.length&&t.hasClass("validify")&&t.fadeOut(200,function(){$(this).remove()})})},$.fn.mustFollow=function(t){this.each(function(){var e=$(this);e.change(function(){var r=e.next();r.length&&r.hasClass("validify")||$.each(t,function(r){return t[r].rule(e.val())?void 0:(e.parent().addClass("has-error"),e.displayError(t[r].html),!1)})}),e.on("keyup change",function(){e.parent().hasClass("has-error")&&$.each(t,function(r){t[r].rule(e.val())&&(e.hideError(),e.parent().removeClass("has-error"))})})})},$.clearErrors=function(){$(".validify").remove()}}(window.jQuery);