!function($,t,i){"use strict";$.Calendario=function(t,i){this.$el=$(i),this._init(t)},$.Calendario.defaults={weeks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekabbrs:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthabbrs:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],displayWeekAbbr:!1,displayMonthAbbr:!1,startIn:1,onDayClick:function(t,i,n){return!1}},$.Calendario.prototype={_init:function(t){this.options=$.extend(!0,{},$.Calendario.defaults,t),this.today=new Date,this.month=isNaN(this.options.month)||null==this.options.month?this.today.getMonth():this.options.month-1,this.year=isNaN(this.options.year)||null==this.options.year?this.today.getFullYear():this.options.year,this.caldata=this.options.caldata||{},this._generateTemplate(),this._initEvents()},_initEvents:function(){var t=this;this.$el.on("click.calendario","div.fc-row > div",function(){var i=$(this),n=i.index(),e=i.children("div"),a={day:i.children("span.fc-date").text(),month:t.month+1,monthname:t.options.displayMonthAbbr?t.options.monthabbrs[t.month]:t.options.months[t.month],year:t.year,weekday:n+t.options.startIn,weekdayname:t.options.weeks[n+t.options.startIn]};a.day&&t.options.onDayClick(i,e,a)})},_generateTemplate:function(t){var i=this._getHead(),n=this._getBody(),e;switch(this.rowTotal){case 4:e="fc-four-rows";break;case 5:e="fc-five-rows";break;case 6:e="fc-six-rows"}this.$cal=$('<div class="fc-calendar '+e+'">').append(i,n),this.$el.find("div.fc-calendar").remove().end().append(this.$cal),t&&t.call()},_getHead:function(){for(var t='<div class="fc-head">',i=0;6>=i;i++){var n=i+this.options.startIn,e=n>6?n-6-1:n;t+="<div>",t+=this.options.displayWeekAbbr?this.options.weekabbrs[e]:this.options.weeks[e],t+="</div>"}return t+="</div>"},_getBody:function(){var t=new Date(this.year,this.month+1,0),i=t.getDate(),n=new Date(this.year,this.month,1);this.startingDay=n.getDay();for(var e='<div class="fc-body"><div class="fc-row">',a=1,o=0;7>o;o++){for(var s=0;6>=s;s++){var r=this.startingDay-this.options.startIn,h=0>r?6+r+1:r,d="",c=this.month===this.today.getMonth()&&this.year===this.today.getFullYear()&&a===this.today.getDate(),l="";if(i>=a&&(o>0||s>=h)){d+='<span class="fc-date">'+a+'</span><span class="fc-weekday">'+this.options.weekabbrs[s+this.options.startIn>6?s+this.options.startIn-6-1:s+this.options.startIn]+"</span>";var y=(this.month+1<10?"0"+(this.month+1):this.month+1)+"-"+(10>a?"0"+a:a)+"-"+this.year,u=this.caldata[y];u&&(l=u),""!==l&&(d+="<div>"+l+"</div>"),++a}else c=!1;var p=c?"fc-today ":"";""!==l&&(p+="fc-content"),e+=""!==p?'<div class="'+p+'">':"<div>",e+=d,e+="</div>"}if(a>i){this.rowTotal=o+1;break}e+='</div><div class="fc-row">'}return e+="</div></div>"},_isValidDate:function(t){t=t.replace(/-/gi,"");var i=parseInt(t.substring(0,2),10),n=parseInt(t.substring(2,4),10),e=parseInt(t.substring(4,8),10);return 1>i||i>12?!1:1>n||n>31?!1:(4==i||6==i||9==i||11==i)&&n>30?!1:2==i&&(e%400==0||e%4==0)&&e%100!=0&&n>29?!1:2==i&&e%100==0&&n>29?!1:{day:n,month:i,year:e}},_move:function(t,i,n){"previous"===i?"month"===t?(this.year=this.month>0?this.year:--this.year,this.month=this.month>0?--this.month:11):"year"===t&&(this.year=--this.year):"next"===i&&("month"===t?(this.year=this.month<11?this.year:++this.year,this.month=this.month<11?++this.month:0):"year"===t&&(this.year=++this.year)),this._generateTemplate(n)},getYear:function(){return this.year},getMonth:function(){return this.month+1},getMonthName:function(){return this.options.displayMonthAbbr?this.options.monthabbrs[this.month]:this.options.months[this.month]},getCell:function(t){var i=Math.floor((t+this.startingDay-this.options.startIn)/7),n=t+this.startingDay-this.options.startIn-7*i-1;return this.$cal.find("div.fc-body").children("div.fc-row").eq(i).children("div").eq(n).children("div")},setData:function(t){t=t||{},$.extend(this.caldata,t),this._generateTemplate()},gotoNow:function(t){this.month=this.today.getMonth(),this.year=this.today.getFullYear(),this._generateTemplate(t)},"goto":function(t,i,n){this.month=t,this.year=i,this._generateTemplate(n)},gotoPreviousMonth:function(t){this._move("month","previous",t)},gotoPreviousYear:function(t){this._move("year","previous",t)},gotoNextMonth:function(t){this._move("month","next",t)},gotoNextYear:function(t){this._move("year","next",t)}};var n=function(i){t.console&&t.console.error(i)};$.fn.calendario=function(t){var i=$.data(this,"calendario");if("string"==typeof t){var e=Array.prototype.slice.call(arguments,1);this.each(function(){return i?$.isFunction(i[t])&&"_"!==t.charAt(0)?void i[t].apply(i,e):void n("no such method '"+t+"' for calendario instance"):void n("cannot call methods on calendario prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){i?i._init():i=$.data(this,"calendario",new $.Calendario(t,this))});return i}}(jQuery,window);